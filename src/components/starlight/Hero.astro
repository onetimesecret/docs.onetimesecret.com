---
// This extends the default Starlight Hero component with our custom grid
import { type Props } from '@astrojs/starlight/props';

const { data } = Astro.props.entry;
const { title, tagline } = data.hero || {};
---

<div class="hero">
  {/* Add our landing grid background from Nuxt site */}
  <div class="landing-grid"></div>
  <div class="hero-bg-overlay"></div>

  <div class="hero-content stack">
    <h1 id="_top" set:html={title} />
    {tagline && <div class="tagline" set:html={tagline} />}
    {
      data.hero?.actions ? (
        <div class="action-grid">
          {data.hero.actions.map(({ text, variant, icon, link }) => (
            <a
              href={link}
              class:list={[
                'action',
                variant === 'minimal' ? 'minimal' : 'primary',
              ]}
            >
              <span set:html={text} />
              {icon && <span class:list={['icon', icon]} />}
            </a>
          ))}
        </div>
      ) : null
    }
  </div>
</div>

<style>
.hero {
  padding: 6rem 0 4rem;
  position: relative;
  overflow: hidden;
}

.hero-bg-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at 50% 0%, rgba(220, 74, 34, 0.15), transparent 70%);
  z-index: -1;
}
.hero-content {
  margin-inline: auto;
  max-width: min(100%, 80ch);
  text-align: center;
}
.stack {
  display: flex;
  flex-direction: column;
  gap: clamp(1.5rem, calc(1.5rem + 1vw), 2rem);
}
h1 {
  font-size: var(--sl-text-5xl);
  line-height: var(--sl-line-height-headings);
  font-weight: 600;
  color: var(--sl-color-white);
}
.tagline {
  font-size: var(--sl-text-xl);
  color: var(--sl-color-gray-2);
  line-height: 1.5;
}
.action-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  justify-content: center;
}
.action {
  display: flex;
  align-items: center;
  gap: 0.5em;
  text-decoration: none;
  border-radius: 0.5rem;
  padding: 0.75rem 1.5rem;
  text-wrap: balance;
  line-height: 1.1875;
  font-size: var(--sl-text-base);
  font-weight: 600;
}
.primary {
  background: var(--sl-color-text-accent);
  color: var(--sl-color-black);
}
.minimal {
  background: var(--sl-color-accent-low);
  color: var(--sl-color-white);
}
.action:hover {
  background: var(--sl-color-accent-high);
}
.icon {
  width: 1.5rem;
  height: 1.5rem;
}
.icon.right-arrow {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path fill="black" d="m480-320 160-160-160-160-56 56 64 64H320v80h168l-64 64 56 56Zm0 240q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
}
.icon.external {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path fill="white" d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"/></svg>');
}
html:not([dir='rtl']) .icon.external {
  margin-inline-start: 0.25em;
}
.minimal .icon.external {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path fill="white" d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"/></svg>');
}
</style>
