---
title: Створення секретів
description: Дізнайтеся, як створювати та отримувати секрети за допомогою Onetime Secret REST API, з підтримкою як авторизованого, так і анонімного використання.
---

_Оновлено 2025-04-02_

:::примітка
**Вибір міста та регіону зберігання даних
- Обирайте між центрами обробки даних у США ([`us.onetimesecret.com`](https://us.onetimesecret.com/)), ЄС ([`eu.onetimesecret.com`](https://eu.onetimesecret.com/)), Канаді ([`ca.onetimesecret.com`](https://ca.onetimesecret.com/)) або Новій Зеландії ([`nz.onetimesecret.com`](https://nz.onetimesecret.com/))
- Враховуйте такі фактори, як суверенітет даних, затримка та вимоги до відповідності
- За замовчуванням `onetimesecret.com` залишається робочим і спрямовує до активного центру обробки даних, рекомендується використовувати конкретну локацію, оскільки ця функціональність може бути застарілою в майбутньому.
:::


## Створити секрет

`POST https://REGION.onetimesecret.com/api/v1/share`

Використовуйте цю кінцеву точку для зберігання секретного значення і створення одноразового посилання.


### Аутентифікований запит

```bash
$ curl -X POST -u 'USERNAME:APITOKEN' -d 'secret=SECRET&ttl=NUMBER_IN_SECONDS' https://us.onetimesecret.com/api/v1/share
```

### Анонімний запит

```bash
$ curl -X POST -d 'secret=SECRET&ttl=3600' https://us.onetimesecret.com/api/v1/share
```

### Параметри запиту

- **secret**: секретне значення, яке шифрується перед збереженням. Існує максимальна довжина, яка залежить від вашого плану і є обов'язковою (1k-10k).
- **парольна фраза**: рядок, який одержувач повинен знати, щоб переглянути секрет. Це значення також використовується для шифрування секрету і шифрується перед збереженням, тому ми маємо це значення лише під час передачі.
- **ttl**: максимальний час у секундах, протягом якого секрет повинен зберігатися (тобто час життя). Після закінчення цього часу секрет буде видалений і не підлягатиме відновленню.
- **одержувач**: адреса електронної пошти. Ми надішлемо вам дружній лист, що містить посилання на секрет (НЕ сам секрет).
- **домен_посилання**: власний домен, який буде використано для створення секретного посилання. Якщо не вказано, використовується домен за замовчуванням (наприклад, eu.onetimesecret.com).

### Атрибути

- **custid**: ім'я користувача облікового запису, який створив секрет. Це значення буде `anon` для анонімних запитів.
- **metadata\_key**: унікальний ключ для метаданих. НЕ повідомляйте його нікому.
- **secret\_key**: унікальний ключ для створеного вами секрету. Це ключ, яким ви можете поділитися.
- **ttl**: Час життя (в секундах), який було вказано (тобто не час, що залишився).
- **metadata\_ttl**: Час, що залишився (у секундах), який залишився для метаданих.
- **secret\_ttl**: Час (у секундах), що залишився до кінця життя секрету.
- **recipient**: якщо було вказано одержувача, це завуальована версія адреси електронної пошти.
- **created**: Час створення секрету в юнікс-часі (UTC)
- **updated**: те саме, але час останнього оновлення.
- **парольна фраза\_обов'язкова**: Якщо при створенні секрету було вказано парольну фразу, це буде істина. В іншому випадку, очевидно, буде хибним.
- **share_domain** : користувацький домен для використання при створенні секретного посилання. Інакше "".


### Приклад відповіді:

```json
{
  "custid": "USERNAME",
  "metadata_key": "qjpjroeit8wra0ojeyhcw5pjsgwtuq7",
  "secret_key":"153l8vbwqx5taskp92pf05uvgjefvu9",
  "ttl": "3600",
  "share_domain": "",
  "updated":"1324174006",
  "created":"1324174006"
}
```

## Згенерувати секрет

`POST https://REGION.onetimesecret.com/api/v1/generate`

Згенеруйте короткий, унікальний секрет. Це корисно для тимчасових паролів, одноразових прокладок, солей тощо.

### Аутентифікований запит

```bash
$ curl -X POST -u 'USERNAME:APITOKEN' -d 'ttl=NUMBER_IN_SECONDS' https://us.onetimesecret.com/api/v1/generate
```

### Анонімний запит

```bash
$ curl -X POST -d 'ttl=3600' https://us.onetimesecret.com/api/v1/generate
```


```json
{
  "custid": "USERNAME",
  "value":"3Rg8R2sfD3?a",
  "metadata_key": "2b6bjmudhmtiqjn2qmdaqjkqxp323gi",
  "secret_key": "pgcdv7org3vtdurif809sygnt0mstw6",
  "ttl": "3600",
  "share_domain": "",
  "updated":"1324174095",
  "created":"1324174095"
}
```

### Атрибути

Те ж саме, що і "Поділитися секретом" вище, з додаванням поля "значення".
