---
title: Віднайдення секретів
description: Дізнайтеся, як отримувати секрети за допомогою Onetime Secret REST API з підтримкою як автентифікованого, так і анонімного доступу.
---

_Оновлено 2025-04-02_

:::примітка
**Вибір місцевості та регіону даних
- Виберіть [регіон]({getRelativeLocaleUrl(Astro.currentLocale ?? 'en', 'regions')}) (наприклад [`us.onetimesecret.com`](https://us.onetimesecret.com/), [`eu.onetimesecret.com`](https://eu.onetimesecret.com/)) центри обробки даних
- Враховуйте такі фактори, як суверенітет даних, затримка та вимоги до відповідності
- За замовчуванням `onetimesecret.com` залишається робочим і спрямовує до активного центру обробки даних, рекомендується використовувати конкретну локацію, оскільки ця функціональність може бути застарілою в майбутньому.
:::

## Витягти секрет

`POST https://REGION.onetimesecret.com/api/v1/secret/SECRET_KEY`

### Аутентифікований запит

```bash
$ curl -X POST -u 'USERNAME:APITOKEN' https://eu.onetimesecret.com/api/v1/secret/SECRET_KEY
```

### Анонімний запит

```bash
$ curl -X POST https://eu.onetimesecret.com/api/v1/secret/SECRET_KEY
```

### Параметри запиту

- **SECRET_KEY**: унікальний ключ для цього секрету.
- **парольна_фраза** (якщо потрібно): ключова фраза потрібна лише у тому випадку, якщо секрет було створено з нею.

### Атрибути

- **secret_key**: унікальний ключ для створеного вами секрету. Це ключ, яким ви можете поділитися.
- **значення**: Власне сам секрет. Зрозуміло, що він буде доступний лише один раз.

## Отримати метадані

`POST https://REGION.onetimesecret.com/api/v1/private/METADATA_KEY`

Кожна таємниця також має пов'язані з нею метадані. Метадані призначені для використання творцем секрету (тобто не одержувачем) і, як правило, повинні залишатися приватними. Ви можете безпечно використовувати ключ метаданих для отримання основної інформації про сам секрет (наприклад, якщо і коли його переглядали), оскільки ключ метаданих відрізняється від ключа секрету.

### Аутентифікований запит

```bash
$ curl -X POST -u 'USERNAME:APITOKEN' https://eu.onetimesecret.com/api/v1/private/METADATA_KEY
```

### Параметри запиту

- **METADATA_KEY**: унікальний ключ для цих метаданих.

### Атрибути

- **custid**: ім'я користувача облікового запису, який створив секрет. Це значення буде `anon` для анонімних запитів.
- **metadata\_key**: унікальний ключ для метаданих. НЕ повідомляйте його нікому.
- **secret\_key**: унікальний ключ для створеного вами секрету. Цим ключем можна ділитися.
- **ttl**: Час життя, який було вказано (тобто не час, що залишився).
- **metadata\_ttl**: Час, що залишився (у секундах), який залишився для метаданих.
- **secret\_ttl**: Час (у секундах), що залишився до кінця життя секрету.
- **recipient**: якщо було вказано одержувача, це завуальована версія адреси електронної пошти.
- **created**: Час створення метаданих в юнікс-часі (UTC)
- **updated**: те саме, але час останнього оновлення.
- **received**: Час, коли секрет було отримано.
- **парольна фраза\_необхідна**: Якщо при створенні секрету було вказано парольну фразу, то це буде істина. В іншому випадку, очевидно, буде хибним.


## Спалити секрет

`POST https://REGION.onetimesecret.com/api/v1/private/METADATA_KEY/burn`

Спаліть таємницю, яку ще не прочитали.

### Аутентифікований запит

```bash
$ curl -X POST -u 'USERNAME:APITOKEN' https://eu.onetimesecret.com/api/v1/private/METADATA_KEY/burn
```

### Параметри запиту

- Ні.

### Атрибути

- Так само, як і атрибути метаданих зі статусом "спалений".

## Отримати останні метадані

**GET https://onetimesecret.com/api/v1/private/recent**

Отримати список останніх метаданих.

### Аутентифікований запит

```bash
$ curl -u 'USERNAME:APITOKEN' https://eu.onetimesecret.com/api/v1/private/recent
```

### Параметри запиту

- Ні.

### Атрибути

- Те саме, що й атрибути метаданих, але у вигляді списку, а значення секретного ключа завжди буде нульовим.

::: попередження Потрібна автентифікація
Примітка: Метадані та операції керування (отримати метадані, записати таємницю, останні метадані) доступні лише для авторизованих користувачів.
:::
