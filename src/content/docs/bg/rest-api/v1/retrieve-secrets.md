---
title: Извличане на тайни
description: Научете как да извличате тайни с помощта на Onetime Secret REST API с поддръжка на автентикиран и анонимен достъп.
---

_Актуализирано 2025-04-02_

:::бележка
**Избор на местоположение на данните и регион**
- Изберете [регион]({getRelativeLocaleUrl(Astro.currentLocale ?? 'en', 'regions')}) (напр. [`us.onetimesecret.com`](https://us.onetimesecret.com/), [`eu.onetimesecret.com`](https://eu.onetimesecret.com/)) центрове за данни
- Вземете предвид фактори като суверенитет на данните, латентност и изисквания за съответствие
- **ЗАБЕЛЕЖКА:** По подразбиране `onetimesecret.com` продължава да функционира и да насочва към активен център за данни, като се препоръчва използването на конкретна локализация, тъй като тази функционалност може да бъде изчерпана в бъдеще.
:::

## Извличане на тайна

`POST https://REGION.onetimesecret.com/api/v1/secret/SECRET_KEY`

### Удостоверена заявка

```bash
$ curl -X POST -u 'USERNAME:APITOKEN' https://eu.onetimesecret.com/api/v1/secret/SECRET_KEY
```

### Анонимна заявка

```bash
$ curl -X POST https://eu.onetimesecret.com/api/v1/secret/SECRET_KEY
```

### Параметри на заявката

- **SECRET_KEY**: уникалният ключ за тази тайна.
- **пасфраза** (ако се изисква): пасфразата се изисква само ако тайната е създадена с такава.

### Атрибути

- **secret_key**: уникалният ключ за създадената от вас тайна. Това е ключ, който можете да споделяте.
- **стойност**: Действителната тайна. Би трябвало да е излишно да се казва, но тя ще бъде достъпна само веднъж.

## Извличане на метаданни

`POST https://REGION.onetimesecret.com/api/v1/private/METADATA_KEY`

Всяка тайна има и свързани метаданни. Метаданните са предназначени за използване от създателя на тайната (т.е. не от получателя) и по принцип трябва да се пазят в тайна. Можете спокойно да използвате ключа за метаданни, за да получите основна информация за самата тайна (например дали и кога е била видяна), тъй като ключът за метаданни е различен от ключа за тайна.

### Удостоверена заявка

```bash
$ curl -X POST -u 'USERNAME:APITOKEN' https://eu.onetimesecret.com/api/v1/private/METADATA_KEY
```

### Параметри на заявката

- **METADATA_KEY**: уникалният ключ за тези метаданни.

### Атрибути

- **custid**: потребителското име на акаунта, който е създал тайната. Тази стойност ще бъде `anon` за анонимни заявки.
- **metadata\_key**: уникалният ключ за метаданните. НЕ го споделяйте.
- **secret\_key**: уникалният ключ за създадената тайна. Това е ключът, който можете да споделяте.
- **ttl**: Времето до края на живота, което е посочено (т.е. не оставащото време).
- **metadata\_ttl**: Оставащото време (в секунди), което остава на метаданните да живеят.
- **secret\_ttl**: Оставащото време (в секунди), което остава до края на живота на тайната.
- **получател**: ако е посочен получател, това е замаскирана версия на имейл адреса.
- **създаден**: Време, в което метаданните са създадени в уникс време (UTC).
- **updated**: същото, но времето на последното актуализиране.
- **получено**: Време на получаване на тайната.
- **пасфраза\_задължително**: Ако при създаването на тайната е била предоставена парола, тази стойност ще бъде true. В противен случай очевидно е false.


## Изгори тайна

`POST https://REGION.onetimesecret.com/api/v1/private/METADATA_KEY/burn`

Изгорете тайна, която все още не е прочетена.

### Удостоверена заявка

```bash
$ curl -X POST -u 'USERNAME:APITOKEN' https://eu.onetimesecret.com/api/v1/private/METADATA_KEY/burn
```

### Параметри на заявката

- Няма

### Атрибути

- Същото като атрибутите на метаданни със статус "изгорял".

## Извличане на скорошни метаданни

**ПОЛУЧЕТЕ https://onetimesecret.com/api/v1/private/recent**

Извличане на списък с последните метаданни.

### Удостоверена заявка

```bash
$ curl -u 'USERNAME:APITOKEN' https://eu.onetimesecret.com/api/v1/private/recent
```

### Параметри на заявката

- Няма

### Атрибути

- Същото като атрибутите на метаданни, но като списък, а стойността на тайния ключ винаги ще бъде нула.

::: предупреждение Изисква се удостоверяване на автентичността
Забележка: Операциите за метаданни и управление (извличане на метаданни, запис на тайна, последни метаданни) са достъпни само за автентикирани потребители.
:::
