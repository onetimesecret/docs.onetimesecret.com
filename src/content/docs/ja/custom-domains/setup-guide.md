---
title: セットアップガイド
description: このガイドでは、サブドメインとエイペックスドメインの違いや、ご希望のデータセンター地域の選択など、Onetime Secretアカウントのカスタムドメインの設定方法を説明します。
---

# カスタムドメイン設定ガイド

## 前提条件

- カスタムドメイン機能が有効なOnetime Secretアカウント
- あなたが所有し、DNS設定を管理できるドメイン

## ドメインタイプを理解する

カスタムドメインを設定する前に、サブドメインとエイペックスドメインの違いを理解することが重要です：

1.**サブドメインメインドメインのサブドメイン（例：secrets.yourdomain.com）
2.**頂点ドメイン**：ルート・ドメインそのもの（例：yourdomain.com）

## 地域を選択

Onetime Secretは2つのデータセンターリージョンを提供しています：EUとUSです。カスタムドメインを設定する際に、データを保存する地域を選択する必要があります。この選択はいくつかの理由で重要です：

- 個人向け個人向け**：アクセスがより速くなる可能性のある近接性や、個人データの主権に関する懸念など、個人的な好みに基づいて選択できます。
- 企業向け**：企業向け**：GDPR、州、または地方のガイドラインへの準拠など、データ所在地の義務によって選択することができます。貴社の規制要件に最も適した地域を選択してください。

この選択を行う際には、お客様固有のニーズと要件を考慮してください。データセンター・リージョンの詳細と、お客様のニーズに合ったデータセンター・リージョンの選択方法については、[データセンター・リージョン](/ja/regions)ガイドをご覧ください。

## ステップ1：ドメインダッシュボードへのアクセス

1.Onetime Secretアカウントにログインします。
2.ダッシュボード > カスタムドメインに移動します。
3.ドメインの追加 "をクリックします。

<img src="/img/docs/custom-domains/3-Custom-domains.png" alt="カスタム・ドメイン表示" width="400" />

## ステップ 2: ドメインの入力

1.カスタムドメイン設定で、希望のドメイン（例：secrets.yourdomain.comまたはyourdomain.com）を入力する。
2.Add Domain」または同等のボタンをクリックして次に進みます。

## ステップ3：DNSの設定

ドメインを接続するには、DNS設定を更新する必要があります。このプロセスは、サブドメインまたはエイペックスドメインのどちらを使用しているか、またどのデータセンターのリージョンを選択するかによって若干異なります。

### サブドメイン用（推奨）

1.ドメインのDNS管理パネルにアクセスする（ドメインレジストラまたはDNSプロバイダーを通じて）。
2.以下の詳細でCNAMEレコードを作成する：
   - ホストホスト：選択したサブドメイン（例：secrets）
   - ポイント/値
     - EU地域の場合：identity.eu.onetime.co
     - 米国地域の場合：identity.us.onetime.co
3.同じサブドメインの既存のA、AAAA、またはCNAMEレコードを削除します。

### エイペックス・ドメインの場合

1.ドメインのDNS管理パネルにアクセスする。
2.以下の詳細でAレコードを作成または修正する：
   - ホストホスト：@（DNSプロバイダーによっては空白のままでも可）
   - ポイント/値
     - EU地域の場合： 109.105.217.207
     - 米国地域：66.51.126.41

重要：使用しているドメインに競合するレコードがないことを確認してください。

<img src="/img/docs/custom-domains/4-Custom-domain-settings.png" alt="カスタム・ドメイン設定" width="400" />

### 詳細情報

#### なぜサブドメインにCNAMEを使うのか？

サブドメインにはCNAMEレコードを使うことを推奨する：

1.より柔軟性があり、DNS設定を更新することなくサーバーIPアドレスを変更することができます。
2.当社のインフラに加えられた変更に自動的に適応します。

#### なぜApexドメインのAレコードなのか？

Apexドメインは、DNS標準によりCNAMEレコードを使用できません。そのため、いくつかの制限があるAレコードを使用する必要があります：

1.IPアドレスを変更した場合（めったにないことですが）、DNS設定を手動で更新する必要があります。
2.私たちのインフラの変更に自動的に適応することはありません。

## ステップ4：ドメインの確認とSSLを待つ

1.DNS設定を更新した後、Onetime Secretのカスタムドメインページに戻ります。
2.システムが自動的にドメインの検証を試みます。
3.検証が成功すると、SSL証明書の生成が開始されます。
4.このプロセスの完了には数分かかる場合があります。

## ステップ5：セットアップの確認

セットアップが完了すると、以下の情報が表示されます：

- ドメインのステータスSSLでアクティブ
- ターゲットアドレス: identity.eu.onetime.co または identity.us.onetime.co (地域によって異なります)
- SSLステータスアクティブ
- SSL更新日: (表示されます。通常、設定から約1年)

## トラブルシューティング

- 検証に失敗した場合は、DNS設定を再確認してください。
- 競合するレコードを削除していることを確認してください。
- DNSの伝播には最大24時間かかることがありますが、通常はもっと早いです。

## カスタムドメインの使用

いったんアクティブになると、シークレットリンクはカスタムドメインを使用するようになります。例えば
https://secrets-example.onetime.dev/secret/abc123`

## We've Got You Covered

残りの技術的な詳細については、私たちが対応しますので、お客様はその必要はありません。

- ドメインのステータスを継続的に監視
- SSL証明書は自動的に更新されます。

情報収集がお好きな方は、ドメインの健全性を簡単にチェックすることができます：

- ダッシュボードの "Last Monitored "タイムスタンプを見るだけで、継続的な接続を確認できます。

## 質問またはサポートが必要ですか？

私たちがお手伝いします。ご質問やサポートが必要な場合は

- support@onetimesecret.com まで直接メールをお送りください。
- https://onetimesecret.com/feedback のフィードバックフォームをご利用ください。

当社のチームは、お客様のニーズに合ったデータセンター地域の選択に関するガイダンスを含め、カスタムドメインのセットアップと使用に関する最良のサポートを提供することをお約束します。
